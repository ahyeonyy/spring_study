package com.example.demo.controller;

import java.io.FileOutputStream;
import java.io.InputStream;
import java.net.URL;

import javax.print.DocFlavor.INPUT_STREAM;

import org.springframework.util.FileCopyUtils;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RestController;

@RestController
public class WebtoonController {
	@GetMapping("/saveImg")
	public String saveImg() {
		String addr ="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT5l1XfqQ9LT6f2ha173xvW9JkD8PDjNXKbGw&usqp=CAU";
		try {
			String path = "/Users/ahyeonlee/Desktop/data";
			URL url = new URL(addr);
			InputStream is = url.openStream();
			String fname = "뷰티풀군바리.jpg";
			FileOutputStream fos = new FileOutputStream(path+"/"+fname);
			FileCopyUtils.copy(is.readAllBytes(),fos);
			System.out.println("파일 저장 완료 !");
		} catch (Exception e) {
			System.out.println("예외발생 : "+e.getMessage());
		}
		return "OK";
	}
}
