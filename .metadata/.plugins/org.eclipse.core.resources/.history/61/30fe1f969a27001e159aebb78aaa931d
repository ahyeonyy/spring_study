	package com.example.demo.controller;
	
	import java.util.List;
	
	import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.security.crypto.factory.PasswordEncoderFactories;
import org.springframework.stereotype.Controller;
	import org.springframework.ui.Model;
	import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.PostMapping;
import org.springframework.web.servlet.ModelAndView;

import com.example.demo.dao.AccountDAO;
	import com.example.demo.entity.Account;
	import com.example.demo.service.AccountService;

import jakarta.servlet.http.HttpServletRequest;
import lombok.Setter;
	
	@Setter
	@Controller
	public class AccountController {
		
		@Autowired
		private AccountService as;
		
		@Autowired
		private AccountDAO dao;
		
		@GetMapping("/list")
		public void list(Model model){
			model.addAttribute("list",as.findAll());
		}
		@GetMapping("/join")
		public void join() {
			
		}
		@PostMapping("/join")
		public ModelAndView join(Account a, HttpServletRequest request) {
			ModelAndView mav = new ModelAndView("redirect:/login");
			dao.save(a);
			return mav;
		}
		
		@GetMapping("/login")
		public void login(){
//			dao.save(new Account(6013, PasswordEncoderFactories.createDelegatingPasswordEncoder().encode("1234"), "99/07/09","qlqlql8448@naver.com","김덕수","킹덕수","010-5004-8448","ahyeon.jpg","lv.1","23/07/05"));
		}
		
		@GetMapping("/mypage2")
		public void mypage(){
//			dao.save(new Account(6013, PasswordEncoderFactories.createDelegatingPasswordEncoder().encode("1234"), "99/07/09","qlqlql8448@naver.com","김덕수","킹덕수","010-5004-8448","ahyeon.jpg","lv.1","23/07/05"));
		}
		
	}
